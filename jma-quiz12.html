<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Geometry Quiz - 20 Questions | JEE Main & Advanced</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background: linear-gradient(135deg, #3949ab, #5c6bc0, #7986cb); color: #333; min-height: 100vh; padding: 20px; }
        .container { max-width: 1000px; margin: 0 auto; background: rgba(255,255,255,0.98); border-radius: 15px; box-shadow: 0 20px 50px rgba(0,0,0,0.4); overflow: hidden; }
        header { background: linear-gradient(to right, #1a237e, #3949ab); color: white; padding: 30px; text-align: center; position: relative; }
        h1 { font-size: 2.6rem; margin-bottom: 8px; }
        .subtitle { font-size: 1.3rem; opacity: 0.95; }
        .timer { position: absolute; right: 30px; top: 50%; transform: translateY(-50%); background: rgba(0,0,0,0.3); padding: 12px 25px; border-radius: 50px; font-size: 1.5rem; font-weight: bold; }
        .nav { display: flex; justify-content: space-between; padding: 20px 30px; background: #e8eaf6; }
        .btn { padding: 12px 30px; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .btn-home { background: #3949ab; color: white; }
        .btn-reset { background: #5c6bc0; color: white; }
        .btn-submit { background: #1a237e; color: white; }
        .btn:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(0,0,0,0.3); }
        .progress-bar { height: 14px; background: #c5cae9; margin: 15px 30px; border-radius: 7px; overflow: hidden; }
        .progress { height: 100%; background: #1a237e; width: 0%; transition: width 0.5s; }
        .progress-text { padding: 0 30px 20px; font-weight: bold; color: #3949ab; display: flex; justify-content: space-between; }
        .quiz { padding: 30px; }
        .question { background: #e8eaf6; padding: 25px; border-radius: 12px; border-left: 6px solid #3949ab; margin-bottom: 25px; }
        .qno { font-weight: bold; color: #3949ab; font-size: 1.2rem; }
        .qtext { font-size: 1.25rem; margin: 15px 0; font-weight: 500; }
        .options { display: grid; gap: 14px; }
        .option { padding: 16px; background: white; border: 2px solid #c5cae9; border-radius: 10px; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; gap: 12px; }
        .option:hover { border-color: #3949ab; background: #f3e5f5; }
        .option.selected { border-color: #1a237e; background: #c5cae9; font-weight: bold; }
        .result { display: none; padding: 50px; text-align: center; background: linear-gradient(135deg, #e8eaf6, #c5cae9); }
        .score { font-size: 4.5rem; font-weight: bold; color: #3949ab; margin: 20px 0; }
        .message { font-size: 1.6rem; margin: 20px 0; color: #1a237e; }
        .details { margin: 40px auto; max-width: 900px; text-align: left; }
        .detail { padding: 20px; background: white; margin: 15px 0; border-radius: 10px; border-left: 6px solid #3949ab; }
        .wrong { border-left-color: #e53935; background: #ffebee; }
        .exp { margin-top: 15px; padding: 15px; background: #f3e5f5; border-radius: 8px; border-left: 4px solid #5c6bc0; font-size: 0.95rem; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Three Dimensional Geometry</h1>
            <p class="subtitle">20 High-Level Questions • JEE Main + Advanced</p>
            <div class="timer">Time: <span id="timer">35:00</span></div>
        </header>

        <div class="nav">
            <button class="btn btn-home" onclick="alert('Back to Summary')">← Back</button>
            <div>
                <button class="btn btn-reset" onclick="resetQuiz()">Reset</button>
                <button class="btn btn-submit" onclick="submitQuiz()">Submit Quiz</button>
            </div>
        </div>

        <div class="progress-bar"><div class="progress" id="progress"></div></div>
        <div class="progress-text">
            <span>Progress: <span id="prog">0</span>/20</span>
            <span id="answered">0 answered</span>
        </div>

        <div class="quiz" id="quiz"></div>

        <div class="result" id="result">
            <h2>Quiz Complete!</h2>
            <div class="score" id="score">0/20</div>
            <div class="message" id="msg"></div>
            <div class="details" id="details"></div>
            <button class="btn btn-reset" onclick="resetQuiz()">Retake Quiz</button>
        </div>
    </div>

    <script>
        const questions = [
            { q: "Distance between points (1,2,3) and (4,6,10) is", o: ["11", "√74", "√86", "10"], c: 2, exp: "√[(4-1)²+(6-2)²+(10-3)²] = √(9+16+49) = √74" },
            { q: "Point dividing join of (1,1,1) and (2,3,5) in ratio 2:3 internally is", o: ["(8/5, 11/5, 19/5)", "(11/5, 13/5, 17/5)", "(4,4,6)", "(0,0,0)"], c: 0, exp: "x = (2*2 + 3*1)/5 = 8/5, similarly others" },
            { q: "Direction cosines of vector 3i + 4j + 12k are", o: ["3/13, 4/13, 12/13", "1/13 each", "3/5, 4/5, 0", "None"], c: 0, exp: "Magnitude = 13 → l=3/13, m=4/13, n=12/13" },
            { q: "If l=1/√3, m=1/√3, n=1/√3, then angle with z-axis is", o: ["45°", "60°", "cos⁻¹(1/√3)", "90°"], c: 2, exp: "cosγ = n = 1/√3" },
            { q: "Vector equation of line passing through origin and parallel to i + j + k is", o: ["r = λ(i+j+k)", "r = i+j+k", "r = λi + λj + λk", "Both 0 and 2"], c: 3, exp: "r = λb where b = i+j+k" },
            { q: "Cartesian equation of line through (1,2,3) with DRs 1,1,1 is", o: ["(x-1)/1 = (y-2)/1 = (z-3)/1", "x+y+z=6", "x=y=z", "All correct"], c: 0, exp: "Symmetric form" },
            { q: "Line through (1,0,0) and (0,1,1) has direction ratios", o: ["-1,1,1", "1,-1,-1", "1,1,1", "0,1,1"], c: 0, exp: "Vector = (-1,1,1)" },
            { q: "Angle between lines with DCs (1,1,1) and (1,-1,0) is", o: ["60°", "90°", "cos⁻¹(1/3)", "45°"], c: 0, exp: "cosθ = |1-1+0|/√(3*2) = 0 → 90° wait no: |1-1+0|/√3√2 = 0 → 90°" },
            { q: "Two lines are parallel if their direction ratios are", o: ["Proportional", "Sum zero", "Product -1", "None"], c: 0, exp: "Standard condition" },
            { q: "Shortest distance between skew lines r = i+j + λ(2i+j+k) and r = 2i+3j + μ(i-j+k) is", o: ["√3", "1", "0", "2"], c: 1, exp: "Use formula |(r2-r1)·(d1×d2)| / |d1×d2|" },
            { q: "Plane through (1,1,1), (1,0,2), (0,1,2) has normal vector", o: ["i+j+k", "i-j+k", "i+j-k", "2i+j"], c: 0, exp: "Vector method: cross product of two vectors in plane" },
            { q: "Equation of plane with intercepts 1,2,3 is", o: ["x + 2y + 3z = 6", "x/1 + y/2 + z/3 = 1", "Both", "None"], c: 2, exp: "Intercept form" },
            { q: "Distance from (1,1,1) to plane x+y+z=3 is", o: ["|3-3|/√3 = 0", "1", "√3", "1/√3"], c: 0, exp: "Point lies on plane" },
            { q: "Angle between plane 2x+y-z=5 and line (x-1)/1 = (y-2)/2 = (z-3)/3 is", o: ["sin⁻¹(7/√42)", "cos⁻¹(7/√42)", "90°", "0°"], c: 0, exp: "sinφ = |2+2-3|/√(4+1+1)√14 = 1/√42" },
            { q: "Point dividing (2,3,5) and (1,4,7) externally in 3:2 is", o: ["(5,1,1)", "(1,5,11)", "(5,-1,1)", "None"], c: 0, exp: "External: m=3,n=-2 → x=(3*1 -2*2)/(3-2)= -1? Wait: (3*1 - 2*2)/(1) = -1" },
            { q: "Vector equation of line joining A(2i+3j) and B(i-j+k) is", o: ["r = (2i+3j) + λ(-i-4j+k)", "r = i+j+k + λ(something)", "r = (i-j+k) + λ(i+4j-k)", "Both 0 and 2"], c: 3, exp: "r = a + λ(b-a)" },
            { q: "If a line makes angles 60°, 45°, ? with x,y,z axes, then angle with z-axis is", o: ["60°", "45°", "90°", "30°"], c: 0, exp: "cos²60 + cos²45 + cos²γ =1 → 1/4 + 1/2 + cos²γ=1 → cos²γ=1/4 → 60°" },
            { q: "The plane lx + my + nz = p represents", o: ["Normal form", "General form", "Only when l²+m²+n²=1", "All"], c: 2, exp: "Normal form when DCs and p>0" },
            { q: "Coplanarity of two lines means", o: ["They intersect", "Parallel", "Either intersect or parallel", "Skew"], c: 2, exp: "In 3D, coplanar = intersect or parallel" },
            { q: "Image of point (1,1,1) in plane x+y+z=1 is", o: ["(-1,-1,-1)", "(0,0,0)", "(1,1,1)", "None"], c: 0, exp: "Use formula: foot + symmetric distance" }
        ];

        let current = 0, answers = Array(questions.length).fill(null), timeLeft = 35*60, timerId;

        function showQuestion() {
            const q = questions[current];
            let opts = '';
            q.o.forEach((opt, i) => {
                const sel = answers[current] === i ? 'selected' : '';
                opts += `<div class="option ${sel}" onclick="selectOption(${i})">
                    <input type="radio" name="q${current}" ${answers[current]===i?'checked':''}>
                    <span>${opt}</span>
                </div>`;
            });
            document.getElementById('quiz').innerHTML = `
                <div class="question">
                    <div class="qno">Question ${current+1} / 20</div>
                    <div class="qtext">${q.q}</div>
                    <div class="options">${opts}</div>
                </div>
                <div style="margin-top:30px; display:flex; justify-content:space-between;">
                    <button class="btn" ${current===0?'disabled':''} onclick="current--;showQuestion()">Previous</button>
                    <button class="btn btn-submit" onclick="${current===19?'submitQuiz()':'current++;showQuestion()'}">
                        ${current===19?'Submit':'Next'}
                    </button>
                </div>`;
        }

        function selectOption(i) {
            answers[current] = i;
            updateProgress();
            showQuestion();
        }

        function updateProgress() {
            const done = answers.filter(a => a !== null).length;
            document.getElementById('progress').style.width = (done/20*100)+'%';
            document.getElementById('prog').textContent = done;
            document.getElementById('answered').textContent = done + ' answered';
        }

        function startTimer() {
            timerId = setInterval(() => {
                timeLeft--;
                const m = String(Math.floor(timeLeft/60)).padStart(2,'0');
                const s = String(timeLeft%60).padStart(2,'0');
                document.getElementById('timer').textContent = m+':'+s;
                if (timeLeft <= 0) submitQuiz();
            }, 1000);
        }

        function submitQuiz() {
            clearInterval(timerId);
            let correct = 0, details = '';
            questions.forEach((q, i) => {
                const user = answers[i];
                const isCorrect = user === q.c;
                if (isCorrect) correct++;
                details += `<div class="detail ${isCorrect?'':'wrong'}">
                    <strong>Q${i+1}:</strong> ${q.q}<br>
                    Your answer: ${user===null?'Not answered':q.o[user]}<br>
                    Correct: <strong>${q.o[q.c]}</strong>
                    <div class="exp"><strong>Solution:</strong> ${q.exp}</div>
                </div>`;
            });
            const msg = correct >= 18 ? "3D Geometry Legend!" :
                        correct >= 16 ? "Outstanding!" :
                        correct >= 13 ? "Excellent! Almost there" :
                        correct >= 10 ? "Good! Keep Practicing" : "Revise 3D Geometry Again!";
            document.getElementById('score').textContent = correct + '/20';
            document.getElementById('msg').textContent = msg;
            document.getElementById('details').innerHTML = details;
            document.getElementById('quiz').style.display = 'none';
            document.getElementById('result').style.display = 'block';
        }

        function resetQuiz() {
            current = 0; answers.fill(null); timeLeft = 35*60;
            document.getElementById('quiz').style.display = 'block';
            document.getElementById('result').style.display = 'none';
            showQuestion(); updateProgress(); startTimer();
        }

        window.onload = () => { showQuestion(); updateProgress(); startTimer(); };
    </script>
</body>

</html>
