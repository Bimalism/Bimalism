<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thermodynamics Quiz</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background: linear-gradient(135deg, #6A1B9A, #8E24AA, #AB47BC); color: #333; line-height: 1.6; min-height: 100vh; padding: 20px; }
        .container { max-width: 1000px; margin: 0 auto; background: rgba(255,255,255,0.95); border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); overflow: hidden; }
        header { background: linear-gradient(to right, #6A1B9A, #8E24AA); color: white; padding: 25px 30px; text-align: center; position: relative; }
        h1 { font-size: 2.4rem; margin-bottom: 10px; }
        .subtitle { font-size: 1.2rem; opacity: 0.9; }
        .timer-container { position: absolute; right: 30px; top: 50%; transform: translateY(-50%); background: rgba(255,255,255,0.2); padding: 10px 20px; border-radius: 50px; font-size: 1.4rem; font-weight: bold; }
        .nav-buttons { display: flex; justify-content: space-between; padding: 20px 30px; background: #f5f5f5; border-bottom: 1px solid #e0e0e0; }
        .btn { padding: 12px 25px; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; gap: 8px; }
        .btn-home { background: #4caf50; color: white; }
        .btn-home:hover { background: #388e3c; }
        .btn-submit { background: #2196f3; color: white; }
        .btn-submit:hover { background: #1976d2; }
        .btn-reset { background: #ff9800; color: white; }
        .btn-reset:hover { background: #f57c00; }
        .progress-container { padding: 15px 30px; background: #f3e5f5; border-bottom: 1px solid #e1bee7; }
        .progress-bar { height: 10px; background: #e0e0e0; border-radius: 5px; overflow: hidden; }
        .progress { height: 100%; background: #8e24aa; width: 5%; transition: width 0.5s; }
        .progress-text { display: flex; justify-content: space-between; margin-top: 8px; font-weight: 500; }
        .quiz-container { padding: 30px; }
        .question { margin-bottom: 30px; padding: 20px; background: #f9f9f9; border-radius: 10px; border-left: 5px solid #6A1B9A; }
        .question-number { font-size: 1.1rem; font-weight: 600; color: #6A1B9A; margin-bottom: 10px; }
        .question-text { font-size: 1.2rem; margin-bottom: 20px; font-weight: 500; }
        .options { display: grid; grid-template-columns: 1fr; gap: 12px; }
        .option { padding: 15px; background: white; border: 2px solid #e0e0e0; border-radius: 8px; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; gap: 12px; }
        .option:hover { border-color: #6A1B9A; background: #f3e5f5; }
        .option.selected { border-color: #6A1B9A; background: #f3e5f5; }
        .option input { transform: scale(1.2); }
        .result-container { display: none; padding: 40px; text-align: center; }
        .result-title { font-size: 2rem; color: #6A1B9A; margin-bottom: 20px; }
        .score { font-size: 3rem; font-weight: bold; color: #8e24aa; margin: 20px 0; }
        .result-details { margin-top: 30px; text-align: left; max-width: 600px; margin-left: auto; margin-right: auto; }
        .detail-item { padding: 15px; background: #f5f5f5; margin-bottom: 10px; border-radius: 8px; display: flex; justify-content: space-between; }
        .correct { border-left: 5px solid #4caf50; }
        .incorrect { border-left: 5px solid #f44336; }
        .review-btn { background: #9c27b0; color: white; margin-top: 20px; }
        .review-btn:hover { background: #7b1fa2; }
        @media (max-width: 768px) { .timer-container { position: static; transform: none; margin-top: 15px; display: inline-block; } .nav-buttons { flex-direction: column; gap: 10px; } .btn { justify-content: center; } }
        .formula { font-family: 'Cambria Math', serif; background: #f3e5f5; padding: 10px 15px; margin: 10px 0; border-radius: 5px; border-left: 4px solid #8E24AA; font-size: 1rem; display: inline-block; }
        .navigation-buttons { display: flex; justify-content: space-between; margin-top: 30px; }
        .formula-block { font-family: 'Cambria Math', serif; background: #f3e5f5; padding: 15px; margin: 15px 0; border-radius: 8px; border-left: 4px solid #8E24AA; font-size: 1.1rem; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Thermodynamics Quiz</h1>
            <p class="subtitle">Test your knowledge of Systems, Energy, Processes & Laws</p>
            <div class="timer-container">
                Time Left: <span id="timer">20:00</span>
            </div>
        </header>
        
        <div class="nav-buttons">
            <button class="btn btn-home" onclick="goToHome()">← Back to Summary</button>
            <div>
                <button class="btn btn-reset" onclick="resetQuiz()">Reset Quiz</button>
                <button class="btn btn-submit" onclick="submitQuiz()">Submit Answers</button>
            </div>
        </div>
        
        <div class="progress-container">
            <div class="progress-bar"><div class="progress" id="quiz-progress"></div></div>
            <div class="progress-text">
                <span>Progress: <span id="progress-text">1</span>/20</span>
                <span id="answered-count">0 questions answered</span>
            </div>
        </div>
        
        <div class="quiz-container" id="quiz-content"></div>
        
        <div class="result-container" id="result-content">
            <h2 class="result-title">Quiz Results</h2>
            <div class="score" id="score">0/20</div>
            <p id="result-message"></p>
            <div class="result-details" id="result-details"></div>
            <button class="btn btn-home" onclick="goToHome()">← Back to Summary</button>
            <button class="btn review-btn" onclick="resetQuiz()">Take Quiz Again</button>
        </div>
    </div>

    <script>
        const quizQuestions = [
            {
                question: "Thermodynamics is based on how many fundamental laws?",
                options: [
                    "One",
                    "Two",
                    "Three",
                    "Four"
                ],
                correct: 2,
                explanation: "Thermodynamics is based on three laws: First, Second, and Third. These are empirical and have no theoretical proof."
            },
            {
                question: "The part of the universe under observation is called:",
                options: [
                    "Surroundings",
                    "Boundary",
                    "System",
                    "Environment"
                ],
                correct: 2,
                explanation: "System: The specific part of the universe under study. Surroundings: Everything else."
            },
            {
                question: "Which system allows exchange of both matter and energy?",
                options: [
                    "Isolated",
                    "Closed",
                    "Open",
                    "Adiabatic"
                ],
                correct: 2,
                explanation: "Open system: Neither sealed nor insulated → exchanges matter and energy."
            },
            {
                question: "A system with sealed and insulated boundary is:",
                options: [
                    "Open",
                    "Closed",
                    "Isolated",
                    "Heterogeneous"
                ],
                correct: 2,
                explanation: "Isolated system: No exchange of matter or energy. Example: Ideal thermos flask."
            },
            {
                question: "Which of the following is an example of a closed system?",
                options: [
                    "Sodium in open beaker with water",
                    "Liquid in sealed tube with vapor",
                    "Ice floating in water",
                    "Gas in open container"
                ],
                correct: 1,
                explanation: "Closed system: Exchanges energy but not matter. Sealed tube → no matter loss."
            },
            {
                question: "A homogeneous system consists of:",
                options: [
                    "Multiple phases",
                    "One phase only",
                    "Two immiscible liquids",
                    "Solid in liquid"
                ],
                correct: 1,
                explanation: "Homogeneous: Uniform throughout → one phase. Examples: pure gas, true solution."
            },
            {
                question: "Which is an intensive property?",
                options: [
                    "Mass",
                    "Volume",
                    "Temperature",
                    "Internal energy"
                ],
                correct: 2,
                explanation: "Intensive: Independent of system size. Temperature, pressure, density are intensive."
            },
            {
                question: "Extensive properties are:",
                options: [
                    "Independent of amount",
                    "Additive in nature",
                    "Per unit mass",
                    "Always constant"
                ],
                correct: 1,
                explanation: "Extensive: Depend on quantity → additive. Mass, volume, enthalpy are extensive."
            },
            {
                question: "State functions depend on:",
                options: [
                    "Path taken",
                    "Initial and final states only",
                    "Rate of change",
                    "Time"
                ],
                correct: 1,
                explanation: "State variables: Change depends only on initial and final states, not the path."
            },
            {
                question: "Thermodynamic equilibrium requires simultaneous:",
                options: [
                    "Chemical, mechanical, and thermal equilibrium",
                    "Only thermal equilibrium",
                    "Only mechanical equilibrium",
                    "Only chemical equilibrium"
                ],
                correct: 0,
                explanation: "All three must exist: no composition change, no work, no heat flow."
            },
            {
                question: "In an isothermal process, dT = 0, so:",
                options: [
                    "ΔE = 0",
                    "ΔH = 0",
                    "q = 0",
                    "w = 0"
                ],
                correct: 0,
                explanation: "For ideal gas, E depends only on T → ΔT = 0 → ΔE = 0."
            },
            {
                question: "Adiabatic process means:",
                options: [
                    "Constant pressure",
                    "No heat exchange (dQ = 0)",
                    "Constant volume",
                    "Reversible"
                ],
                correct: 1,
                explanation: "Adiabatic: Thermally isolated → dQ = 0. Boundaries insulated."
            },
            {
                question: "In a cyclic process:",
                options: [
                    "ΔE = 0, ΔH = 0",
                    "ΔE > 0",
                    "ΔH < 0",
                    "q = w"
                ],
                correct: 0,
                explanation: "System returns to initial state → ΔE = 0, ΔH = 0."
            },
            {
                question: "A reversible process occurs:",
                options: [
                    "In finite time",
                    "Infinitesimally slowly",
                    "Spontaneously",
                    "With entropy increase"
                ],
                correct: 1,
                explanation: "Reversible: Infinitesimally slow, driving force ≈ opposing force."
            },
            {
                question: "Internal energy (E) is a:",
                options: [
                    "Path function",
                    "State function",
                    "Intensive only",
                    "Not conserved"
                ],
                correct: 1,
                explanation: "E is a state property. ΔE depends only on initial and final states."
            },
            {
                question: "The internal energy of an ideal gas depends only on:",
                options: [
                    "Pressure",
                    "Volume",
                    "Temperature",
                    "All of these"
                ],
                correct: 2,
                explanation: "For ideal gas: E = f(T) only. Independent of P and V."
            },
            {
                question: "Heat flows from:",
                options: [
                    "Lower to higher temperature",
                    "Higher to lower temperature",
                    "Same temperature",
                    "No flow"
                ],
                correct: 1,
                explanation: "Heat: Energy in transit due to temperature difference → high T → low T."
            },
            {
                question: "Work (w) in thermodynamics is:",
                options: [
                    "Energy transfer by temperature difference",
                    "Energy transfer by force through distance",
                    "Always positive",
                    "Not a state function"
                ],
                correct: 1,
                explanation: "Work: Organized energy transfer (PΔV, electrical, etc.). Path function."
            },
            {
                question: "The SI unit of energy is:",
                options: [
                    "Erg",
                    "Calorie",
                    "Joule",
                    "Watt"
                ],
                correct: 2,
                explanation: "1 Joule = 10⁷ ergs. Standard unit in thermodynamics."
            },
            {
                question: "If final internal energy > initial, then ΔE is:",
                options: [
                    "Zero",
                    "Negative",
                    "Positive",
                    "Undefined"
                ],
                correct: 2,
                explanation: "ΔE = E_final – E_initial. If E_f > E_i → ΔE > 0."
            }
        ];

        let currentQuestion = 0;
        let userAnswers = Array(quizQuestions.length).fill(null);
        let timeLeft = 20 * 60;
        let timerInterval;
        let quizSubmitted = false;

        function initializeQuiz() {
            displayQuestion();
            startTimer();
            updateProgress();
        }

        function displayQuestion() {
            const q = quizQuestions[currentQuestion];
            let opts = '';
            q.options.forEach((o, i) => {
                const checked = userAnswers[currentQuestion] === i ? 'checked' : '';
                opts += `<label class="option ${checked ? 'selected' : ''}">
                    <input type="radio" name="answer" value="${i}" ${checked} onchange="selectAnswer(${i})">${o}
                </label>`;
            });
            
            document.getElementById('quiz-content').innerHTML = `
                <div class="question">
                    <div class="question-number">Question ${currentQuestion + 1} of ${quizQuestions.length}</div>
                    <div class="question-text">${q.question}</div>
                    <div class="options">${opts}</div>
                </div>
                <div class="navigation-buttons">
                    <button class="btn" onclick="previousQuestion()" ${currentQuestion === 0 ? 'disabled' : ''}>← Previous</button>
                    <button class="btn btn-submit" onclick="nextQuestion()">${currentQuestion === quizQuestions.length - 1 ? 'Finish' : 'Next'} →</button>
                </div>`;
        }

        function selectAnswer(i) {
            userAnswers[currentQuestion] = i;
            displayQuestion();
            updateProgress();
        }

        function nextQuestion() {
            if (currentQuestion < quizQuestions.length - 1) {
                currentQuestion++;
                displayQuestion();
            } else {
                submitQuiz();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                displayQuestion();
            }
        }

        function updateProgress() {
            const answered = userAnswers.filter(a => a !== null).length;
            const progress = (answered / quizQuestions.length) * 100;
            document.getElementById('quiz-progress').style.width = `${progress}%`;
            document.getElementById('progress-text').textContent = answered;
            document.getElementById('answered-count').textContent = `${answered} of ${quizQuestions.length} questions answered`;
        }

        function startTimer() {
            updateTimerDisplay();
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitQuiz();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60).toString().padStart(2, '0');
            const seconds = (timeLeft % 60).toString().padStart(2, '0');
            document.getElementById('timer').textContent = `${minutes}:${seconds}`;
            if (timeLeft < 300) {
                document.getElementById('timer').style.color = '#ff5252';
            }
        }

        function submitQuiz() {
            if (quizSubmitted) return;
            quizSubmitted = true;
            clearInterval(timerInterval);
            
            let score = 0;
            let details = '';
            
            quizQuestions.forEach((q, i) => {
                const userAnswer = userAnswers[i];
                const isCorrect = userAnswer === q.correct;
                if (isCorrect) score++;
                
                details += `<div class="detail-item ${isCorrect ? 'correct' : 'incorrect'}">
                    <div>
                        <strong>Q${i+1}:</strong> ${q.question}<br>
                        <span>Your answer: ${userAnswer !== null ? q.options[userAnswer] : 'Not answered'}</span><br>
                        <span>Correct answer: ${q.options[q.correct]}</span><br>
                        <em>${q.explanation}</em>
                    </div>
                    <div>${isCorrect ? '✓' : '✗'}</div>
                </div>`;
            });
            
            document.getElementById('quiz-content').style.display = 'none';
            document.getElementById('result-content').style.display = 'block';
            document.getElementById('score').textContent = `${score}/${quizQuestions.length}`;
            document.getElementById('result-details').innerHTML = details;
            
            let message = '';
            if (score >= 17) message = 'Outstanding! You have mastered Thermodynamics fundamentals.';
            else if (score >= 14) message = 'Excellent! Strong understanding of systems, properties, and processes.';
            else if (score >= 11) message = 'Good! Review system types, state functions, and processes.';
            else message = 'Keep practicing! Focus on system classification, intensive/extensive, and energy concepts.';
            
            document.getElementById('result-message').textContent = message;
        }

        function resetQuiz() {
            currentQuestion = 0;
            userAnswers.fill(null);
            timeLeft = 20 * 60;
            quizSubmitted = false;
            document.getElementById('quiz-content').style.display = 'block';
            document.getElementById('result-content').style.display = 'none';
            clearInterval(timerInterval);
            initializeQuiz();
        }

        function goToHome() {
            alert('This would navigate to the Thermodynamics summary page');
            // window.location.href = 'jch-sum10.html';
        }

        window.onload = initializeQuiz;
    </script>
</body>
</html>